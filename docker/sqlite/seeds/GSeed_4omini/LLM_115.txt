CREATE TABLE users(
    id INTEGER PRIMARY KEY,
    username TEXT NOT NULL UNIQUE,
    email TEXT NOT NULL UNIQUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO users(username, email) VALUES('testuser1', 'test1@example.com');
INSERT INTO users(username, email) VALUES('testuser2', 'test2@example.com');
INSERT INTO users(username, email) VALUES('testuser3', 'test3@example.com');

CREATE TABLE orders(
    order_id INTEGER PRIMARY KEY,
    user_id INTEGER,
    amount DECIMAL(10, 2) NOT NULL,
    order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(user_id) REFERENCES users(id)
);

INSERT INTO orders(user_id, amount) VALUES(1, 99.99);
INSERT INTO orders(user_id, amount) VALUES(1, 149.49);
INSERT INTO orders(user_id, amount) VALUES(2, 59.99);

SELECT * FROM users WHERE username LIKE 'testuser%';
SELECT COUNT(*) FROM orders WHERE amount > 100;
SELECT users.username, COUNT(orders.order_id) AS order_count 
FROM users LEFT JOIN orders ON users.id = orders.user_id 
GROUP BY users.id;