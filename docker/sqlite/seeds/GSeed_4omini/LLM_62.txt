CREATE TABLE users(id INTEGER PRIMARY KEY, name TEXT, age INTEGER, created_at DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE posts(id INTEGER PRIMARY KEY, user_id INTEGER, content TEXT, created_at DATETIME DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY(user_id) REFERENCES users(id));
INSERT INTO users(name, age) VALUES ('Alice', 30), ('Bob', 25);
INSERT INTO posts(user_id, content) VALUES (1, 'Hello World!'), (2, 'This is a test post.');
CREATE INDEX idx_user_name ON users(name);
SELECT u.name, COUNT(p.id) AS post_count FROM users u LEFT JOIN posts p ON u.id = p.user_id GROUP BY u.id;
PRAGMA foreign_keys = ON;
UPDATE users SET age = age + 1 WHERE id = 1;
DELETE FROM posts WHERE created_at < DATETIME('now', '-1 day');