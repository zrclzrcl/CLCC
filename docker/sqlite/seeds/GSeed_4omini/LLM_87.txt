CREATE TABLE users (id INTEGER PRIMARY KEY, username TEXT UNIQUE NOT NULL, password TEXT NOT NULL, created_at DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE posts (id INTEGER PRIMARY KEY, user_id INTEGER, content TEXT, created_at DATETIME DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY(user_id) REFERENCES users(id));
CREATE VIEW recent_posts AS SELECT u.username, p.content, p.created_at FROM users u JOIN posts p ON u.id = p.user_id ORDER BY p.created_at DESC LIMIT 10;
INSERT INTO users (username, password) VALUES ('test_user', 'securepassword'), ('admin', 'adminpassword');
INSERT INTO posts (user_id, content) VALUES (1, 'First post by test_user!'), (1, 'Second post!'), (2, 'Hello from admin!');
SELECT u.username, COUNT(p.id) AS post_count FROM users u LEFT JOIN posts p ON u.id = p.user_id GROUP BY u.id HAVING post_count > 0;
SELECT * FROM recent_posts WHERE created_at > datetime('now', '-7 days');
UPDATE users SET username = 'test_user_updated' WHERE id = 1;
DELETE FROM posts WHERE id = 2;