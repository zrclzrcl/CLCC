PRAGMA foreign_keys = ON;
CREATE TABLE users (
    id INTEGER PRIMARY KEY,
    username TEXT NOT NULL UNIQUE,
    password TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE posts (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    content TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
INSERT INTO users (username, password) VALUES ('testuser', 'password123');
INSERT INTO posts (user_id, content) VALUES (1, 'This is the first post from testuser.');
CREATE VIEW user_posts AS
SELECT u.username, p.content
FROM users u
JOIN posts p ON u.id = p.user_id
WHERE u.username = 'testuser';
SELECT * FROM user_posts;