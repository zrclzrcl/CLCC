CREATE TABLE users(id INTEGER PRIMARY KEY, username TEXT NOT NULL, email TEXT NOT NULL UNIQUE, age INTEGER);
INSERT INTO users VALUES(1, 'alice', 'alice@example.com', 30);
INSERT INTO users VALUES(2, 'bob', 'bob@example.com', 25);
INSERT INTO users VALUES(3, 'charlie', 'charlie@example.com', 35);
CREATE TABLE posts(id INTEGER PRIMARY KEY, user_id INTEGER, content TEXT, created_at DATETIME DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY(user_id) REFERENCES users(id));
INSERT INTO posts VALUES(1, 1, 'Hello, world!');
INSERT INTO posts VALUES(2, 2, 'This is my first post.');
INSERT INTO posts VALUES(3, 1, 'Another post by Alice!');
CREATE INDEX idx_user_id ON posts(user_id);
UPDATE users SET age = 31 WHERE id = 1;
DELETE FROM posts WHERE id = 2;
SELECT u.username, COUNT(p.id) as post_count FROM users u LEFT JOIN posts p ON u.id = p.user_id GROUP BY u.id ORDER BY post_count DESC;