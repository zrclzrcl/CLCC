CREATE TABLE users(id INTEGER PRIMARY KEY, name TEXT, email TEXT UNIQUE, age INTEGER);
INSERT INTO users (name, email, age) VALUES ('Alice', 'alice@example.com', 30);
INSERT INTO users (name, email, age) VALUES ('Bob', 'bob@example.com', 25);
INSERT INTO users (name, email, age) VALUES ('Charlie', 'charlie@example.com', 35);
CREATE TABLE orders(order_id INTEGER PRIMARY KEY, user_id INTEGER, amount REAL, created_at DATETIME DEFAULT CURRENT_TIMESTAMP);
INSERT INTO orders (user_id, amount) VALUES (1, 100.50);
INSERT INTO orders (user_id, amount) VALUES (1, 200.75);
INSERT INTO orders (user_id, amount) SELECT id, (age * 10.0) FROM users WHERE age > 20;
CREATE INDEX idx_user_age ON users(age);
SELECT u.name, SUM(o.amount) AS total_amount 
FROM users u JOIN orders o ON u.id = o.user_id 
GROUP BY u.id 
HAVING total_amount > 150;
PRAGMA foreign_keys=ON;
PRAGMA cache_size = 2000;